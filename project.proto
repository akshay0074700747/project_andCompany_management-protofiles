syntax = "proto3";

package project;

option go_package = "./pb/projectpb";

import "google/protobuf/empty.proto";

import "company.proto";

message CreateProjectReq {
    string Name = 1;
    string Description = 2;
    string ProjectUsername = 3;
    string Aim = 4;
    bool IsCompanybased = 5;
    string ComapanyId = 6;
}

message CreateProjectRes {
    string CompanyID = 1;
    string Name = 2;
    string Description = 3;
    string ProjectUsername = 4;
    string Aim = 5;
    bool IsCompanybased = 6;
    string ComapanyID = 7;
}

message AddMemberReq {
    string Email = 1;
    uint32 PermissionID = 2;
    uint32 RoleID = 3;
}

message SearchReq {
    uint32 RoleID = 1;
}

message SearchRes {
    string Name = 1;
    string Email = 2;
}

message ProjectInvitesRes {
    string ProjectID = 1;
    string ProjectAim = 2;
    uint32 Members = 3;
}

message AcceptProjectInviteReq {
    string ProjectID = 1;
    bool Accept = 2;
    string UserID = 3;
}

service ProjectService {
    rpc CreateProject(CreateProjectReq)returns(CreateProjectRes);
    rpc GetPermissions(google.protobuf.Empty)returns(stream company.Permission);
    rpc AddMembers(AddMemberReq)returns(google.protobuf.Empty);
    rpc SearchforMembers(SearchReq)returns(stream SearchRes);
    rpc ProjectInvites(google.protobuf.Empty)returns(stream ProjectInvitesRes);
    rpc AcceptProjectInvite(AcceptProjectInviteReq)returns(google.protobuf.Empty);
}